const app={t:Date.now()},load=()=>{ga("create","UA-125183906-1","auto"),ga("send","pageview"),pdfjsLib.getDocument("./teaser.pdf").then(e=>{const t=e.numPages;let n=1;for(let o=0;o<e.numPages;o++){const a=o+1;e.getPage(a).then(o=>{const s=document.createElement("canvas");s.id="page-"+a;const p=o.getViewport(1);s.height=p.height,s.width=p.width,document.getElementById("pdf").appendChild(s),o.render({viewport:p,canvasContext:s.getContext("2d")}),n++,app.pdf=e,n===t&&setTimeout(()=>listen(),250)})}}),app.user=window.location.search.split("?=")[1]},listen=()=>{console.log("setting listeners");const e=[];for(let t=0;t<app.pdf.numPages;t++)e.push(document.getElementById("page-"+(t+1)).getBoundingClientRect().top);const t=e[1]-e[0],n=Math.max(1,Math.floor(window.innerHeight/t));e.push(e[e.length-1]+t);let o=0;window.onscroll=(()=>{const t=window.scrollY+window.innerHeight/4;t>e[o]&&t<e[o+1]||(t>e[o+1]?(ga("send","event",app.user,"forward",o+n,Date.now()-app.t),o++):(ga("send","event",app.user,"back",o+n,Date.now()-app.t),o--),app.t=Date.now())})};window.onload=load,window.onresize=listen;